<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:b="http://bootsfaces.net/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Liste des voitures</title>
<h:link type="text/css" rel="stylesheet" href="/project/faces/javax.faces.resource/theme.css?ln=primefaces-start" />
</h:head>
<h:body  style="background-image: url(resources/img/fond.jpg)">

<ui:include src="navbar.xhtml"></ui:include>

<p:growl id="growl" showDetail="true" sticky="true" />

<h:form>

<b:panel title="Liste de toutes les voitures" look="primary" collapsed="false">

<b:dataTable styleClass="table table-striped" var="v" value="#{VoitureGetBean.tabVoitureD}" rows="10"
                         widgetVar="carsTable"
						  page-length="10"
						  page-length-menu="5,10,25,50"
						  lang="fr"
						  style="text-align: center; vertical-align: center !important">



	<b:dataTableColumn label="Id">
		<h:outputText value="#{v.voiture.idvoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Model">
		<h:outputText value="#{v.voiture.modelVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Immatricule">
		<h:outputText value="#{v.voiture.immatricule}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Kilometrage">
		<h:outputText value="#{v.voiture.kilometrage}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Prix">
		<h:outputText value="#{v.voiture.prixVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Voiture">
		<h:outputText value="#{v.voiture.typeVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Carburant">
		<h:outputText value="#{v.voiture.typeCarburant}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Etat">
		<h:outputText value="#{v.voiture.etatVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Chiffre d'affaires">
		<h:outputText value="#{v.chiffreDAffaires}" />
	</b:dataTableColumn>
	
	<h:column label="Modification">
		<p:commandButton ajax="false" actionListener="#{VoitureGetBean.attrListener}" action="#{VoitureGetBean.RedirectUpdateVoiture}" icon="ui-icon-pencil" style="border: 1px solid #27DBC3; background: #27DBC3; padding: 5px 20px; margin-right: 10px">
    		<f:attribute name="v" value="#{v}" />
		</p:commandButton>
		<p:commandButton update="growl" ajax="true" actionListener="#{VoitureGetBean.attrListener}"
						action="#{VoitureGetBean.deleteVoiture}"
						icon="ui-icon-close" style="border: 1px solid #FA2F44; background: #FA2F44; padding: 5px 20px">
			<p:confirm header="Confirmation"
							message="Etes-vous sûr de vouloir supprimer cette voiture ?"
							icon="ui-icon-alert" />
			<f:attribute name="v" value="#{v}" />
		</p:commandButton>
		
		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<p:commandButton value="Oui" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			<p:commandButton value="Non" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		</p:confirmDialog>
	</h:column>	

</b:dataTable>

</b:panel>

</h:form>

<b:panel title="Liste des voitures disponibles aujourd'hui" look="primary" collapsed="true">
	<h:form>
<b:dataTable styleClass="table table-striped" var="v" value="#{VoitureGetDispoBean.tabVoiture}" rows="10"
                         widgetVar="carsTable"
						  page-length="10"
						  page-length-menu="5,10,25,50"
						  lang="fr"
						  style="text-align: center; vertical-align: center !important">

	<b:dataTableColumn label="Id">
		<h:outputText value="#{v.idvoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Model">
		<h:outputText value="#{v.modelVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Immatricule">
		<h:outputText value="#{v.immatricule}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Kilometrage">
		<h:outputText value="#{v.kilometrage}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Prix">
		<h:outputText value="#{v.prixVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Voiture">
		<h:outputText value="#{v.typeVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Carburant">
		<h:outputText value="#{v.typeCarburant}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Etat">
		<h:outputText value="#{v.etatVoiture}" />
	</b:dataTableColumn>
	
		
</b:dataTable>
</h:form>
</b:panel>

<b:panel title="Liste des voitures qui rentrent aujourd'hui" look="primary" collapsed="true">
	<h:form>
                         
<b:dataTable styleClass="table table-striped" rendered="#{not empty VoitureRetourBean.tabVoiture}" var="v" value="#{VoitureRetourBean.tabVoiture}" rows="10"
                         widgetVar="carsTable"
						  page-length="10"
						  page-length-menu="5,10,25,50"
						  lang="fr"
						  style="text-align: center; vertical-align: center !important">

	<b:dataTableColumn label="Id">
		<h:outputText value="#{v.idvoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Model">
		<h:outputText value="#{v.modelVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Immatricule">
		<h:outputText value="#{v.immatricule}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Kilometrage">
		<h:outputText value="#{v.kilometrage}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Prix">
		<h:outputText value="#{v.prixVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Voiture">
		<h:outputText value="#{v.typeVoiture}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Carburant">
		<h:outputText value="#{v.typeCarburant}" />
	</b:dataTableColumn>
	
	<b:dataTableColumn label="Etat">
		<h:outputText value="#{v.etatVoiture}" />
	</b:dataTableColumn>
</b:dataTable>
</h:form>

<h:outputText rendered="#{empty VoitureRetourBean.tabVoiture}" value="Aucune voiture rentre aujourd'hui" style="color: red"></h:outputText>
</b:panel>


</h:body>
</html>