<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:b="http://bootsfaces.net/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Consulter une Facture</title>
</h:head>
<h:body style="background-image: url(resources/img/fond.jpg)">

<ui:include src="navbar.xhtml"></ui:include>

<h:form>
<b:panel title="Liste des factures" look="primary">

    <b:dataTable id="table1" var="fac" value="#{FactureBean.tabFactures}" widgetVar="factureTable"
                 emptyMessage="Aucune facture trouvée avec ces critères." filteredValue="#{FactureBean.tabFacturesFiltered}"
                 page-length="5"
				 page-length-menu="5,10,25,50"
				 lang="fr"
				 style="text-align: center; vertical-align: center !important">
 
 
        <b:dataTableColumn filterBy="#{fac.idFacture}" label="Id Facture" filterMatchMode="contains">
            <h:outputText value="#{fac.idFacture}" />
        </b:dataTableColumn>

        <b:dataTableColumn filterBy="#{fac.deFacturation}" label="Date de facturation" filterMatchMode="contains">
            <h:outputText value="#{fac.deFacturation}" />
        </b:dataTableColumn>
        
        <b:dataTableColumn filterBy="#{fac.reservation.idreservation}" label="Début de réservation" filterMatchMode="contains">
            <h:outputText value="#{fac.reservation.dateSortie}">
            	<f:convertDateTime type="date" pattern="dd-MM-yyyy, HH:mm" />
            </h:outputText>
        </b:dataTableColumn>
        
        <b:dataTableColumn filterBy="#{fac.reservation.idreservation}" label="Fin de réservation" filterMatchMode="contains">
            <h:outputText value="#{fac.reservation.dateRetour}">
            	<f:convertDateTime type="date" pattern="dd-MM-yyyy, HH:mm" />
            </h:outputText>
        </b:dataTableColumn>
        
        <b:dataTableColumn filterBy="#{fac.reservation.idreservation}" label="Prix de réservation" filterMatchMode="contains">
            <h:outputText value="#{fac.reservation.prixReservation}" />
        </b:dataTableColumn>
        
        <b:dataTableColumn filterBy="#{fac.reservation.idreservation}" label="Voiture" filterMatchMode="contains">
            <h:outputText value="#{fac.reservation.voiture.immatricule}" />
        </b:dataTableColumn>
        
        <b:dataTableColumn filterBy="#{fac.reservation.idreservation}" label="Client" filterMatchMode="contains">
            <h:outputText value="#{fac.reservation.client.nomClient}" />
        </b:dataTableColumn>
        
        <h:column label="Consulter/Imprimer">
    	<p:commandButton actionListener="#{FactureBean.attrListener}" action="#{FactureBean.consulterFacture}" icon="ui-icon-print" style="border: 1px solid #27DBC3; background: #27DBC3; padding: 5px 20px; margin-right: 10px">
    		<f:attribute name="fac" value="#{fac}"/>
    	</p:commandButton>        
    	</h:column>
 
    </b:dataTable>
    
</b:panel>
</h:form>



</h:body>
</html>