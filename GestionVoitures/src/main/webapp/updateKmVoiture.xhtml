<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:b="http://bootsfaces.net/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Retour d'une voiture</title>
</h:head>
<h:body  style="background-image: url(resources/img/fond.jpg)">

<ui:include src="navbar.xhtml"></ui:include>

<h:form>

<b:panel title="Retour d'une voiture" look="primary" style="width: 800px; margin: auto; background-color: #BFF5EF">
	 <h:panelGrid columns="1" cellpadding="3">
	 
	 <p:outputLabel value="Selectionnez la voiture qui rentre :"/>
		<p:selectOneMenu rendered="#{not empty VoitureUpdateBean.tabVoiture}" id="id" value="#{VoitureUpdateBean.idVoiture}" style="width:770px">
        	<f:selectItem itemLabel="Choisir" itemValue="" />
            <f:selectItems value="#{VoitureUpdateBean.tabVoiture}" var="v" itemValue="#{v.idvoiture}"
            	itemLabel="#{v.immatricule}" />
        </p:selectOneMenu>
		<p:message for="id" style="color: red"></p:message>
		
		<h:outputText rendered="#{empty VoitureUpdateBean.tabVoiture}" value="Aucune voiture ne rentre aujourd'hui" style="color: red"></h:outputText>
	 
	 </h:panelGrid>
	 
	 <p:separator />
	 
	 <b:commandButton rendered="#{not empty VoitureUpdateBean.tabVoiture}" look="primary" value="Choisir" ajax="false" icon="ui-icon-check" action="#{VoitureUpdateBean.getVoitureById}"/>
	 
</b:panel>

</h:form>

<h:form>

<b:panel title="Entrer le nouveau kilométrage de la voiture" look="primary" style="width: 800px; margin: auto; background-color: #BFF5EF" rendered="#{not empty VoitureUpdateBean.voiture}">
	 <h:panelGrid columns="1" cellpadding="3">
	 
	 <p:outputLabel value="Nouveau kilometrage :"/>
		<p:inputText id="kilometrage" value="#{VoitureUpdateBean.voiture.kilometrage}" style="width:770px" required="true" requiredMessage="Veuillez entrer un kilométrage"/>
		<p:message for="kilometrage" style="color: red"/>
		
		<h:outputText value="#{VoitureUpdateBean.exception}" style="color: red"></h:outputText>
	 
	 </h:panelGrid>
	 
	 <p:separator />
	 
	 <p:commandButton look="primary" value="Modifier" ajax="false" icon="ui-icon-pencil" action="#{VoitureUpdateBean.updateVoiture}">
	 </p:commandButton>
	 
</b:panel>

</h:form>

</h:body>
</html>