<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:b="http://bootsfaces.net/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Ajouter une réservation</title>
</h:head>
<h:body>

<ui:include src="navbar.xhtml"></ui:include>

<h:form>	 
	 <b:panel title="Ajouter une réservation" look="primary" style="text-decoration:none;">
	 
	 <h:panelGrid columns="1" cellpadding="3">

		<h:outputLabel for="voiture" value="Voiture : " />
		<p:selectOneMenu id="voiture" value="#{ReservationBean.idVoiture}" style="width:500px">
        	<f:selectItem itemLabel="Choisir" itemValue="" />
            <f:selectItems value="#{ReservationBean.tabVoiture}" var="v" itemValue="#{v.idvoiture}"
            	itemLabel="#{v.immatricule}" />
        </p:selectOneMenu>
		<p:message for="voiture" style="color: red"></p:message>
		
		<h:outputLabel for="client" value="Client : " />
		<p:selectOneMenu id="client" value="#{ReservationBean.idClient}" style="width:500px">
        	<f:selectItem itemLabel="Choisir" itemValue="" />
            <f:selectItems value="#{ReservationBean.tabClient}" var="c" itemValue="#{c.idClient}"
            	itemLabel="#{c.nomClient} #{c.prenomClient}" />
        </p:selectOneMenu>
		<p:message for="client" style="color: red"></p:message>

		</h:panelGrid>
		
		<p:separator />
		
		<b:commandButton look="primary" value="Choisir" ajax="false" icon="ui-icon-check" action="#{ReservationBean.choix}"/>
		
		<p:separator />
	
		<h:panelGrid columns="1" cellpadding="3" rendered="#{not empty ReservationBean.voiture}">
		
		<p:outputLabel value="Etat de la voiture :"/>
		<h:outputText value="#{ReservationBean.voiture.etatVoiture}" style="width:500px"/>
		
		<p:outputLabel value="Prix :"/>
		<p:inputText id="prix" value="#{ReservationBean.prixReservation}" style="width:500px"/>
		<p:message for="prix" style="color: red"></p:message>
		
		<p:outputLabel value="Date de départ :"/>
		<p:calendar id="dateD" value="#{ReservationBean.dateSortie}" pattern="MM/dd/yyyy HH:mm" />
		<p:message for="dateD" style="color: red"></p:message>
		
		<p:outputLabel value="Date de retour :"/>
		<p:calendar id="dateR" value="#{ReservationBean.dateRetour}" pattern="MM/dd/yyyy HH:mm" />
		<p:message for="dateR" style="color: red"></p:message>
		
		<h:outputText value="#{ReservationBean.excpetionDispo}" style="color: red"></h:outputText>
		
		</h:panelGrid>
		
		<p:separator rendered="#{not empty ReservationBean.voiture}"/>
		
		<b:commandButton look="primary" rendered="#{not empty ReservationBean.voiture}" value="Ajouter" ajax="false" icon="ui-icon-disk" action="#{ReservationBean.saveReservation}"/>

	</b:panel>
	
</h:form>	


</h:body>
</html>