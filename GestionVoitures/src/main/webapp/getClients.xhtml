<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Liste des clients</title>
	<h:link type="text/css" rel="stylesheet"
		href="/project/faces/javax.faces.resource/theme.css?ln=primefaces-start" />
</h:head>
<h:body>

	<ui:include src="navbar.xhtml"></ui:include>

	<b:panel title="Liste de tous les clients" look="primary">

		<h:form>

			<p:dataTable styleClass="table table-bordered" var="clientD"
				value="#{ClientBean.clientsD}" rows="10" paginator="true"
				paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15"
				emptyMessage="Aucun client ne correspond à la recherche"
				widgetVar="customersTable">

				<f:facet name="header">
					<p:outputPanel>
						<h:outputText value="Rechercher dans le tableau :" />
						<p:inputText id="globalFilter"
							onkeyup="PF('customersTable').filter()" style="width:150px"
							placeholder="Enter un mot clé" />
					</p:outputPanel>
				</f:facet>

				<p:column headerText="Id" filterBy="#{clientD.client.idClient}"
					filterMatchMode="exact" sortBy="#{clientD.client.idClient}">
					<h:outputText value="#{clientD.client.idClient}" />
				</p:column>

				<p:column headerText="Nom" filterBy="#{clientD.client.nomClient}"
					filterMatchMode="contains" sortBy="#{clientD.client.nomClient}">
					<h:outputText value="#{clientD.client.nomClient}" />
				</p:column>

				<p:column headerText="Prénom"
					filterBy="#{clientD.client.prenomClient}"
					filterMatchMode="contains" sortBy="#{clientD.client.prenomClient}">
					<h:outputText value="#{clientD.client.prenomClient}" />
				</p:column>

				<p:column headerText="Date de naissance"
					filterBy="#{clientD.client.dateDeNaissance}"
					filterMatchMode="contains"
					sortBy="#{clientD.client.dateDeNaissance}">>
					<h:outputText value="#{clientD.client.dateDeNaissance}" />
				</p:column>

				<p:column headerText="Num. de Tel."
					filterBy="#{clientD.client.numeroTel}" filterMatchMode="contains"
					sortBy="#{clientD.client.numeroTel}">
					<h:outputText value="#{clientD.client.numeroTel}" />
				</p:column>

				<p:column headerText="Num. de permis"
					filterBy="#{clientD.client.numeroPermis}"
					filterMatchMode="contains" sortBy="#{clientD.client.numeroPermis}">
					<h:outputText value="#{clientD.client.numeroPermis}" />
				</p:column>

				<p:column headerText="Adresse postale"
					filterBy="#{clientD.client.adressePostale}"
					filterMatchMode="contains"
					sortBy="#{clientD.client.adressePostale}">
					<h:outputText value="#{clientD.client.adressePostale}" />
				</p:column>

				<p:column headerText="Mail" filterBy="#{clientD.client.mail}"
					filterMatchMode="contains" sortBy="#{clientD.client.mail}">
					<h:outputText value="#{clientD.client.mail}" />
				</p:column>

				<p:column headerText="Pays" filterBy="#{clientD.client.pays}"
					filterMatchMode="contains" sortBy="#{clientD.client.pays}">
					<h:outputText value="#{clientD.client.pays}" />
				</p:column>

				<p:column headerText="Date de délivrance"
					filterBy="#{clientD.client.dateDeDelivrance}"
					filterMatchMode="contains"
					sortBy="#{clientD.client.dateDeDelivrance}">
					<h:outputText value="#{clientD.client.dateDeDelivrance}" />
				</p:column>

				<p:column headerText="Lieu de naissance"
					filterBy="#{clientD.client.lieuDeNaissance}"
					filterMatchMode="contains"
					sortBy="#{clientD.client.lieuDeNaissance}">
					<h:outputText value="#{clientD.client.lieuDeNaissance}" />
				</p:column>

				<p:column headerText="Permis délivré par"
					filterBy="#{clientD.client.delivrerPar}" filterMatchMode="contains"
					sortBy="#{clientD.client.delivrerPar}">
					<h:outputText value="#{clientD.client.delivrerPar}" />
				</p:column>

				<p:column headerText="Dépenses" filterBy="#{clientD.depenses}"
					filterMatchMode="contains" sortBy="#{clientD.depenses}">
					<h:outputText value="#{clientD.depenses}" />
				</p:column>

				<p:column headerText="Modification" style="text-align: center">
					<p:commandButton ajax="false"
						actionListener="#{ClientBean.attrListener}"
						action="#{ClientBean.RedirectUpdateClient}" icon="ui-icon-pencil"
						style="border: 1px solid #acdd4a; background: #6eac2c">
						<f:attribute name="c" value="#{clientD}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

		</h:form>


	</b:panel>

</h:body>
</html>