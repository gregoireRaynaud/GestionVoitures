<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Agence</title>
</h:head>
<h:body>


<h:form>
    <p:panel id="panel" header="Ajouter une agence" style="margin-bottom:10px;">
        
        <p:growl id="growl" life="2000" />

        <h:panelGrid columns="3" cellpadding="5">
  
            <h:outputText for="txt1" value="Addresse postale: "/>
			<h:inputText id="txt1" requiredMessage="Veuillez entrer une adresse." required="true" value="#{AgenceBean.addrespostal}"/>
			<h:message for="txt1" style="color: red"/>
            
            <h:outputText for="txt2" value="Numéro de téléphone: "/>
			<h:inputText id="txt2" requiredMessage="Veuillez indiquer un N° de Téléphone." required="true" value="#{AgenceBean.numerotel}"/>
			<h:message for="txt2" style="color: red"/>
            
            <h:outputText for="txt3" value="Dénomination: "/>
			<h:inputText id="txt3" requiredMessage="Veuillez indiquer une dénomination." required="true" value="#{AgenceBean.denomination}"/>
			<h:message for="txt3" style="color: red"/>
            
            <h:outputText for="txt4" value="Forme Juridique: "/>
			<h:inputText id="txt4" requiredMessage="Veuillez indiquer une forme juridique." required="true" value="#{AgenceBean.formJuridique}"/>
			<h:message for="txt4" style="color: red"/>
            
            <h:outputText for="txt5" value="Activité: "/>
			<h:inputText id="txt5" requiredMessage="Veuillez indiquer une activité." required="true" value="#{AgenceBean.activite}"/>
			<h:message for="txt5" style="color: red"/>

            <h:outputText for="txt6" value="Adresse Siège: "/>
			<h:inputText id="txt6" requiredMessage="Veuillez indiquer l'adresse du siège." required="true" value="#{AgenceBean.adressSiege}"/>
			<h:message for="txt6" style="color: red"/>
            
            <h:outputText for="txt7" value="Ville: "/>
			<h:inputText id="txt7" requiredMessage="Veuillez indiquer une ville." required="true" value="#{AgenceBean.ville}"/>
			<h:message for="txt7" style="color: red"/>
            
            <h:outputText for="txt8" value="Numéro de téléphone secondaire: "/>
			<h:inputText id="txt8" requiredMessage="Veuillez indiquer un N° de téléphone secondaire." required="true" value="#{AgenceBean.deuxiemTel}"/>
			<h:message for="txt8" style="color: red"/>
			
            <h:outputText for="txt9" value="TVA: "/>
			<h:inputText id="txt9" requiredMessage="Veuillez indiquer un taux de TVA." required="true" value="#{AgenceBean.tva}"/>
			<h:message for="txt9" style="color: red"/>
			
			<p:outputLabel for="txt10" value="Devise locale: " />
            <p:selectOneMenu id="txt10" value="#{AgenceBean.choixMonnais}" requiredMessage="Veuillez préciser la devise locale." required="true" style="width:235px">
                <f:selectItem itemLabel="Selectionner une devise" itemValue="" noSelectionOption="true" />
                <f:selectItem itemLabel="Dollar" itemValue="dollar"/>
                <f:selectItem itemLabel="Euro" itemValue="euro"/>
                <f:selectItem itemLabel="Livre Sterling" itemValue="livre"/>
                <f:selectItem itemLabel="Dinar" itemValue="dinar"/>
                <f:selectItem itemLabel="Yen" itemValue="yen"/>
            </p:selectOneMenu>
            <h:message for="txt10"/>
            
            <h:outputLabel for="txt11" value="Date de Création: *" />
            <p:calendar id="txt11" value="#{AgenceBean.dateCommencement}" effect="fold" requiredMessage="Veuillez entrer une date de création" required="true" label="Date d'ouverture"/>
            <p:message for="txt11" />

        </h:panelGrid>
        
        <p:commandButton value="Ajouter" actionListener="#{AgenceBean.addAgence}" update="@(form) growl" styleClass="ui-priority-primary"/>
    </p:panel>
</h:form>


<p:panel id="panel" header="Modifier une agence" style="margin-bottom:10px;">
	
	<p:panel  header="Choisir une Agence" style="margin-bottom:10px;">
	<h:form id="form1"> 
        <h:panelGrid columns="3" cellpadding="5">
            
            <p:outputLabel for="txt12" value="Agence: *" />
        	<p:selectOneMenu id="txt12" value="#{AgenceBean.idAgence}" label="Agence: " effect="fold" editable="true" style="width:235px">
            	<f:selectItem itemLabel="Sélectionner une agence" itemValue="" noSelectionOption="true" /> 
            	<f:selectItems value="#{AgenceBean.tabAgences}" var="age" itemValue="#{age.idAgence}" itemLabel="#{age.ville}"/>
        	</p:selectOneMenu>
        	
        </h:panelGrid>        
 		<p:separator />
        <p:commandButton value="Chercher" actionListener="#{AgenceBean.getAgenceByIdBean}" update="@(form)"/>
    
	</h:form>
	</p:panel>
	
	<h:form id="form2">
 
        <h:panelGrid columns="3" cellpadding="5">
            
            
            <h:outputText for="txt1_2" value="Adresse postale: "/>
			<h:inputText id="txt1_2"  requiredMessage="Veuillez entrer une adresse." required="true" value="#{AgenceBean.addrespostal}"/>			
			<h:message for="txt1_2"/>
            
            <h:outputText for="txt2_2" value="Numéro de téléphone: "/>
			<h:inputText id="txt2_2"  requiredMessage="Veuillez indiquer un N° de Téléphone." required="true" value="#{AgenceBean.numerotel}"/>
			<h:message for="txt2_2"/>
            
            <h:outputText for="txt3_2" value="Dénomination: "/>
			<h:inputText id="txt3_2" requiredMessage="Veuillez indiquer une dénomination." required="true" value="#{AgenceBean.denomination}"/>
			<h:message for="txt3_2"/>
            
            <h:outputText for="txt4_2" value="Forme Juridique: "/>
			<h:inputText id="txt4_2" requiredMessage="Veuillez indiquer une forme juridique." required="true" value="#{AgenceBean.formJuridique}"/>
			<h:message for="txt4_2"/>
            
            <h:outputText for="txt5_2" value="Activité: "/>
			<h:inputText id="txt5_2" requiredMessage="Veuillez indiquer une activité." required="true" value="#{AgenceBean.activite}"/>
			<h:message for="txt5_2"/>
            
            <h:outputText for="txt6_2" value="Adresse Siège: "/>
			<h:inputText id="txt6_2" requiredMessage="Veuillez indiquer l'adresse du siège." required="true" value="#{AgenceBean.adressSiege}"/>
			<h:message for="txt6_2"/>
            
            <h:outputText for="txt7_2" value="Ville: "/>
			<h:inputText id="txt7_2" requiredMessage="Veuillez indiquer une ville." required="true" value="#{AgenceBean.ville}"/>
			<h:message for="txt7_2"/>
            
            <h:outputText for="txt8_2" value="Numéro de téléphone secondaire: "/>
			<h:inputText id="txt8_2" requiredMessage="Veuillez indiquer un N° de téléphone secondaire." required="true" value="#{AgenceBean.deuxiemTel}"/>
			<h:message for="txt8_2"/>
			
            <h:outputText for="txt9_2" value="TVA: "/>
			<h:inputText id="txt9_2" requiredMessage="Veuillez indiquer un taux de TVA." required="true" value="#{AgenceBean.tva}"/>
			<h:message for="txt9_2"/>
			
			<p:outputLabel for="txt10_2" value="Devise locale: " />
            <p:selectOneMenu id="txt10_2" value="#{AgenceBean.choixMonnais}" requiredMessage="Veuillez préciser la devise locale." required="true" style="width:150px">
                <f:selectItem itemLabel="Selectionner une devise" itemValue="" noSelectionOption="true" />
                <f:selectItem itemLabel="Dollar" itemValue="dollar"/>
                <f:selectItem itemLabel="Euro" itemValue="euro"/>
                <f:selectItem itemLabel="Livre Sterling" itemValue="livre"/>
                <f:selectItem itemLabel="Dinar" itemValue="dinar"/>
                <f:selectItem itemLabel="Yen" itemValue="yen"/>
            </p:selectOneMenu>
            <h:message for="txt10_2"/>
            
            <h:outputLabel for="txt11_2" value="Date de Création: *" />
            <p:calendar id="txt11_2" value="#{AgenceBean.dateCommencement}" effect="fold" requiredMessage="Veuillez entrer une date de création" required="true" label="Date d'ouverture"/>
            <p:message for="txt11_2" />
         
        </h:panelGrid>
        <p:commandButton value="Ajouter" actionListener="#{AgenceBean.updateAgence}" update="@(form)" styleClass="ui-priority-primary"/>
    
	</h:form>
</p:panel>


<h:form>
    <p:dataTable id="table1" var="age" value="#{AgenceBean.tabAgences}" widgetVar="agenceTable"
                 emptyMessage="No cars found with given criteria" filteredValue="#{AgenceBean.tabAgencesFiltered}">
 
        <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('agenceTable').filter()" style="width:150px" placeholder="Enter keyword"/>
                <p:commandButton id="toggler" type="button" value="Columns" icon="ui-icon-calculator" />
       			<p:columnToggler datasource="table1" trigger="toggler" />
            </p:outputPanel>
            
        </f:facet>
 
        <p:column filterBy="#{age.idAgence}" headerText="Id" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.idAgence}" />
        </p:column>
 
        <p:column filterBy="#{age.addrespostal}" headerText="Adresse Postale" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.addrespostal}" />
        </p:column>
        
        <p:column filterBy="#{age.numerotel}" headerText="N° téléphone" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.numerotel}" />
        </p:column>
        
        <p:column filterBy="#{age.denomination}" headerText="Dénomination" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.denomination}" />
        </p:column>
        
        <p:column filterBy="#{age.formJuridique}" headerText="Forme juridique" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.formJuridique}" />
        </p:column>
        
        <p:column filterBy="#{age.activite}" headerText="Activité" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.activite}" />
        </p:column>
        
        <p:column filterBy="#{age.adressSiege}" headerText="Adresse Siège" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.adressSiege}" />
        </p:column>
        
        <p:column filterBy="#{age.dateCommencement}" headerText="Date de commencement" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.dateCommencement}" />
        </p:column>
        
        <p:column filterBy="#{age.ville}" headerText="Ville" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.ville}" />
        </p:column>
        
        <p:column filterBy="#{age.deuxiemTel}" headerText="Deuxième N° téléphone" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.deuxiemTel}" />
        </p:column>
        
         <p:column filterBy="#{age.tva}" headerText="TVA" footerText="contains" filterMatchMode="contains">
            <h:outputText value="#{age.tva}" />
        </p:column>
 
        <p:column filterBy="#{age.choixMonnais}" headerText="Monnaie" footerText="in" filterMatchMode="in">
            <f:facet name="filter">
                <p:selectCheckboxMenu label="Monnaie" onchange="PF('agenceTable').filter()" panelStyle="width:125px" scrollHeight="150">
                    <f:selectItems value="#{AgenceBean.listMonnaie}" />
                </p:selectCheckboxMenu>
            </f:facet>
            <h:outputText value="#{age.choixMonnais}" />
        </p:column>
 
    </p:dataTable>
</h:form>

</h:body>
</html>